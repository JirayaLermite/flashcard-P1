<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Flashcards V√©hicules Militaires</title>

<style>
:root{
  --blue:#1976d2;
  --bg1:#0f2027;
  --bg2:#203a43;
  --bg3:#2c5364;
}

*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}

body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
  background:linear-gradient(135deg,var(--bg1),var(--bg2),var(--bg3));
  color:white;
  height:100vh;
  overflow:hidden;
}

/* ===== LOGIN ===== */
#loginOverlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.85);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:10000;
}
#loginBox{
  background:white;
  color:black;
  padding:24px;
  border-radius:18px;
  width:90%;
  max-width:320px;
  text-align:center;
}
#loginBox h2{margin-top:0}
#loginBox input{
  width:100%;
  padding:14px;
  font-size:16px;
  border-radius:12px;
  border:1px solid #ccc;
}
#loginBox button{
  margin-top:14px;
  width:100%;
  padding:14px;
  font-size:16px;
  border:none;
  border-radius:14px;
  background:var(--blue);
  color:white;
  font-weight:bold;
}

/* ===== APP ===== */
#app{display:none;height:100vh}

/* ===== TOP BAR ===== */
.top{
  position:fixed;
  top:env(safe-area-inset-top,10px);
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:10px;
  z-index:3000;
}
button{
  border:none;
  border-radius:14px;
  padding:14px 18px;
  font-size:15px;
  font-weight:bold;
  cursor:pointer;
  color:white;
  background:var(--blue);
  box-shadow:0 8px 20px rgba(0,0,0,.4);
}

/* ===== MENU PAYS ===== */
#countryMenu{
  position:fixed;
  top:70px;
  left:50%;
  transform:translateX(-50%);
  background:white;
  color:black;
  width:90%;
  max-width:320px;
  max-height:65vh;
  overflow-y:auto;
  border-radius:18px;
  padding:12px;
  display:none;
  z-index:4000;
}
#countryMenu input{
  width:100%;
  padding:10px;
  margin-bottom:10px;
  border-radius:10px;
  border:1px solid #ccc;
}
#countryMenu label{
  display:flex;
  align-items:center;
  gap:8px;
  padding:6px;
  font-size:15px;
}

/* ===== CARD ===== */
#card{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:92vw;
  max-width:480px;
  height:60vh;
  max-height:520px;
  perspective:1200px;
  cursor:pointer;
}
#inner{
  width:100%;
  height:100%;
  background:white;
  border-radius:22px;
  transform-style:preserve-3d;
  transition:transform .6s;
  box-shadow:0 20px 40px rgba(0,0,0,.6);
}
#card.flip #inner{transform:rotateY(180deg)}
.face{
  position:absolute;
  inset:0;
  backface-visibility:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:22px;
  padding:10px;
}
.front img{
  width:100%;
  height:100%;
  object-fit:contain;
}
.back{
  transform:rotateY(180deg);
  color:#0d47a1;
  font-size:clamp(22px,6vw,36px);
  font-weight:800;
  text-align:center;
}

/* ===== QUIZ ===== */
#quiz{
  position:fixed;
  bottom:env(safe-area-inset-bottom,20px);
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:14px;
  opacity:0;
  pointer-events:none;
  transition:.3s;
}
#quiz.show{
  opacity:1;
  pointer-events:auto;
}
.good{background:#43a047}
.bad{background:#e53935}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="loginOverlay">
  <div id="loginBox">
    <h2>üîí Acc√®s</h2>
    <input id="pwd" type="password" placeholder="Mot de passe">
    <button onclick="login()">Entrer</button>
    <p id="err" style="color:red;margin:8px 0 0"></p>
  </div>
</div>

<!-- APP -->
<div id="app">

  <div class="top">
    <button onclick="toggleMenu()">üåç Pays</button>
    <button onclick="restart()">üîÄ M√©langer</button>
  </div>

  <div id="countryMenu">
    <input placeholder="Rechercher..." oninput="filterCountries(this.value)">
    <div id="countryList"></div>
  </div>

  <div id="card" onclick="flipCard()">
    <div id="inner">
      <div class="face front" id="front"></div>
      <div class="face back" id="back"></div>
    </div>
  </div>

  <div id="quiz">
    <button class="good" onclick="next()">‚úÖ</button>
    <button class="bad" onclick="next()">‚ùå</button>
  </div>

</div>

<script>
/* ===== CONFIG ===== */
const PASSWORD="militaire123";

/* ===== DONN√âES (exemples ‚Äì tu peux en mettre 50+) ===== */
const cards=[
 {c:"USA",i:"https://upload.wikimedia.org/wikipedia/commons/7/79/M1_Abrams_tank.jpg",t:"M1 Abrams"},
 {c:"France",i:"https://upload.wikimedia.org/wikipedia/commons/3/33/Leclerc_main_battle_tank.jpg",t:"Leclerc"},
 {c:"Russie",i:"https://upload.wikimedia.org/wikipedia/commons/2/21/T-90_1.jpg",t:"T-90"},
 {c:"Allemagne",i:"https://upload.wikimedia.org/wikipedia/commons/7/7d/Leopard_2A6M.jpg",t:"Leopard 2"},
 {c:"UK",i:"https://upload.wikimedia.org/wikipedia/commons/8/82/Challenger_2_Tank.jpg",t:"Challenger 2"}
];

/* ===== √âTAT ===== */
let deck=[],index=0;

/* ===== LOGIN ===== */
function login(){
  if(pwd.value===PASSWORD){
    loginOverlay.style.display="none";
    app.style.display="block";
    init();
  }else{
    err.textContent="Mot de passe incorrect";
  }
}

/* ===== INIT ===== */
function init(){
  buildCountries();
  restart();
}

/* ===== MENU ===== */
function buildCountries(){
  const list=document.getElementById("countryList");
  list.innerHTML="";
  [...new Set(cards.map(c=>c.c))].forEach(p=>{
    list.innerHTML+=`
      <label><input type="checkbox" checked value="${p}"> ${p}</label>
    `;
  });
}
function toggleMenu(){
  countryMenu.style.display = countryMenu.style.display==="block"?"none":"block";
}
document.addEventListener("click",e=>{
  if(!countryMenu.contains(e.target) && !e.target.closest(".top")){
    countryMenu.style.display="none";
  }
});
function filterCountries(v){
  [...countryList.children].forEach(l=>{
    l.style.display=l.textContent.toLowerCase().includes(v.toLowerCase())?"flex":"none";
  });
}

/* ===== JEU ===== */
function restart(){
  const selected=[...document.querySelectorAll("#countryList input:checked")].map(x=>x.value);
  deck=cards.filter(c=>selected.includes(c.c)).sort(()=>Math.random()-0.5);
  index=0;
  showCard();
}
function showCard(){
  if(deck.length===0) return;
  const c=deck[index%deck.length];
  front.innerHTML=`<img src="${c.i}">`;
  back.textContent=c.t;
  card.classList.remove("flip");
  quiz.classList.remove("show");
}
function flipCard(){
  card.classList.toggle("flip");
  quiz.classList.toggle("show");
}
function next(){
  index++;
  showCard();
}
</script>

</body>
</html>

